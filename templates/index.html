{% extends "base.html" %}

{% block content %}
<div class="w-full rounded-xl p-2">
 <section class="mb-4">
  <div class="bg-gradient-to-r from-orange-500 to-amber-400 py-16 px-6 sm:px-8 lg:px-12 rounded-lg shadow-xl text-center max-w-4xl mx-auto mt-10 mb-10">
    <h1 class="text-2xl sm:text-[40px] font-extrabold mb-1.5 sm:mb-4">
        <span class="word-type-container text-blue-900 py-1">Welcome to Ahmad Gas Center</span>
    </h1>
    <h1 id="delayedText" class="text-xl sm:text-3xl font-bold mb-1 sm:mb-4 hidden">
        <span class="word-type-container text-red-800">FONGAS AUTHORIZED DEALER</span>
    </h1>
    <p class="text-md text-green-950  sm:text-xl leading-relaxed opacity-90">
        Your reliable source for <span class="font-bold">quality gas cylinders</span> and <span class="font-bold">essential kitchen appliances</span> in Muridwala.
    </p>
    <p class="text-sm sm:text-lg mt-4 opacity-95 text-amber-700">
        We ensure <span class="font-bold">competitive prices</span> and <span class="font-bold">top-notch service</span> for every customer.
    </p>
</div>






<div class="flex flex-col lg:flex-row gap-6">
{% if product %}
<div class="w-full lg:w-1/2">
  <h1 class="font-bold py-2 text-2xl sm:text-3xl text-blue-800 text-center">Cylinders</h1>
  <div
    class="mt-1 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 xl:gap-x-8"
  >
  {% for i in product %}
  {% if forloop.first or forloop.last %}
  
  <div
  class=" w-full bg-white border border-gray-200 rounded-xl shadow-sm dark:bg-gray-800 dark:border-gray-700"
  >
      <div
        class="h-80 overflow-hidden flex items-center justify-center my-4"
      >
        <a href="/media/{{i.image}}" class="items-center">
          <img
            class="w-full h-full object-cover p-4 hover:opacity-75"
            src="/media/{{i.image}}"
            alt="product image"
          />
        </a>
      </div>

      <div class="px-5 pb-5">
         <h2 class="font-bold text-xl">{{i.product_name}}</h2>
          <div class="sm:h-18 overflow-hidden mb-3">
    
        <p class="text-md tracking-tight text-gray-900 dark:text-white line-clamp-3">
          {{ i.desc|slice:":76" }}...
          <a href="{% url 'products' 'product' i.id %}" class="text-blue-600 hover:underline"> See more</a>
        </p>
        
      
    </div>
        <div class="flex items-center mt-2.5 mb-5">
          <div
            class="star-wrapper flex items-center space-x-1 rtl:space-x-reverse"
          >
            {% for _ in "12345" %}
            <svg
              class="w-4 h-4 text-yellow-300"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 22 20"
            >
              <path
                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
              />
            </svg>
            {% endfor %}
          </div>
          <span
            class="rating-value bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-sm ms-3"
          >
            {{ i.rating }}
          </span>
        </div>

        <div class="flex items-center justify-between">
          <span class="text-[27px] items-center font-bold {% if i.price > 1500 %} text-red-900 {%else%} text-green-900 {%endif%} "
            >Rs.{{i.price}}</span
          >
          {% comment %} <button         
            id="{{i.product_id}}" class="cart text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
            >Shop</button
          > {% endcomment %}
         <button type="button" class="whatsapp-btn cursor-pointer mt-2 relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800"
              data-product="{{ i.product_name }}"
  data-price="{{ i.price }}"
  >
  <span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-transparent group-hover:dark:bg-transparent">
   Shop Now
  </span>
</button>

</div>
{% if forloop.first %}
      <span class="inline-block bg-green-200 text-green-700 rounded-full px-2 py-1 text-xs font-semibold mt-2">In Stock</span>
    {% elif forloop.last %}
       <span class="inline-block bg-blue-200 text-blue-700 rounded-full px-2 py-1 text-xs font-semibold mt-2">New</span>
    {% endif %}
      </div>
    </div>
      {% endif %}
      {% endfor %}
  </div>
</div>
{% endif %}




{% if kitchen %}
 <div class="w-full lg:w-1/2">
<h1 class="font-bold py-2 text-2xl sm:text-3xl text-cyan-600 text-center">Kitchen Appliances</h1>
  <div class="mt-1 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 xl:gap-x-8">
   
  {% for i in kitchen %}
  {% if forloop.first or forloop.last %}
  
  <div
  class="w-full bg-white border border-gray-200 rounded-xl shadow-sm dark:bg-gray-800 dark:border-gray-700"
  >
      <div
        class="h-80 overflow-hidden flex items-center justify-center my-4"
      >
        <a href="/media/{{i.image}}" class="items-center">
          <img
            class="w-full h-full object-cover p-4 hover:opacity-75"
            src="/media/{{i.image}}"
            alt="product image"
          />
        </a>
      </div>

      <div class="px-5 pb-5">
         <h2 class="font-bold text-xl">{{i.product_name}}</h2>
          <div class="sm:h-18 overflow-hidden mb-3">
    
        <p class="text-md tracking-tight text-gray-900 dark:text-white line-clamp-3">
          {{ i.desc|slice:":76" }}...
          <a href="{% url 'products' 'kitchen' i.id %}" class="text-blue-600 hover:underline"> See more</a>
        </p>
        
      
    </div>
        <div class="flex items-center mt-2.5 mb-5">
          <div
            class="star-wrapper flex items-center space-x-1 rtl:space-x-reverse"
          >
            {% for _ in "12345" %}
            <svg
              class="w-4 h-4 text-yellow-300"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 22 20"
            >
              <path
                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
              />
            </svg>
            {% endfor %}
          </div>
          <span
            class="rating-value bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-sm ms-3"
          >
            {{ i.rating }}
          </span>
        </div>

        <div class="flex items-center justify-between">
          <span class="text-[27px] items-center font-bold {% if i.price > 1500 %} text-red-900 {%else%} text-green-900 {%endif%} "
            >Rs.{{i.price}}</span
          >
          {% comment %} <button         
            id="{{i.product_id}}" class="cart text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
            >Shop</button
          > {% endcomment %}
         <button type="button" class="whatsapp-btn cursor-pointer mt-2 relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800"
              data-product="{{ i.product_name }}"
  data-price="{{ i.price }}"
  >
  <span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-transparent group-hover:dark:bg-transparent">
   Shop Now
  </span>
</button>

</div>
{% if forloop.first %}
      <span class="inline-block bg-green-200 text-green-700 rounded-full px-2 py-1 text-xs font-semibold mt-2">In Stock</span>
    {% elif forloop.last %}
       <span class="inline-block bg-blue-200 text-blue-700 rounded-full px-2 py-1 text-xs font-semibold mt-2">New</span>
    {% endif %}
      </div>
    </div>
     {% endif %}
    {% endfor %}
  </div>
</div>
    {% endif %}
        {# Add more product cards here #}
</div>
    <div class="text-center mt-12">
        <a href="/services" class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-3 px-6 rounded-full">
            View All Products
        </a>
    </div>
 </section>

<iframe
  class="responsive-iframe rounded-xl"
  src="https://www.facebook.com/plugins/video.php?height=314&href=https%3A%2F%2Fwww.facebook.com%2Freel%2F1269131610914058%2F&show_text=false&width=560&t=0"
  scrolling="no"
  frameborder="0"
  allowfullscreen="true"
  allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share">
</iframe>
{% endblock %}


{% block javascript %}
<script>
  {% comment %} typing {% endcomment %}
  setTimeout(() => {
    document.getElementById("delayedText").classList.remove("hidden");
  }, 4250); // 5000 milliseconds = 5 seconds
  {% comment %} typing {% endcomment %}

 document.addEventListener("DOMContentLoaded", function () {
    const productCards = document.querySelectorAll(".star-wrapper");

    productCards.forEach(function (starWrapper) {
      const ratingText = starWrapper.nextElementSibling?.textContent?.trim();
      const rating = parseFloat(ratingText);

      const stars = starWrapper.querySelectorAll("svg");

      stars.forEach((star, index) => {
        star.classList.remove("text-yellow-300", "text-gray-200");
        if (rating >= index + 1) {
          star.classList.add("text-yellow-300");
        } else {
          star.classList.add("text-gray-200");
        }
      });
    });
  });
{% comment %} shop cart Logic {% endcomment %}

console.log("working...");
if(localStorage.getItem('cart')== null){
  var cart = {};
}
else{
  cart=JSON.parse(localStorage.getItem('cart'));
}
$('.cart').click(function(){
  console.log("clicked");
  var idstr = this.id.toString();
  console.log(idstr);
  if(cart[idstr]!= undefined){
    cart[idstr]+=1;
  }
  else{
    cart[idstr]=1;
  }
  console.log(cart);
  localStorage.setItem('cart',JSON.stringify(cart));
});

{% comment %} whatsapp {% endcomment %}

  $(document).ready(function () {
    $(".whatsapp-btn").click(function () {
      var product = $(this).data("product");
      var price = $(this).data("price");

      var message = `Asslam-o-Alaikum! I want to buy this product:\n\nName: *${product}*\nPrice: Rs. *${price}*\n\nPlease confirm availability.`;
      var phone = "923323550131"; // üîÅ Replace with your WhatsApp number (without +)

      var url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
      window.open(url, "_blank");
    });
  });
// for search
  function selectCategory(value, label) {
    document.getElementById("categoryInput").value = value;
    document.getElementById("dropdown-text").innerText = label;
    document.getElementById("dropdown").classList.add("hidden");
  }


</script>

<script src="https://unpkg.com/flowbite@1.6.5/dist/flowbite.min.js"></script>

{% endblock  %}

